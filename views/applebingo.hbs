{{!< layout}}
<body>
<section class="appleevent">
<div id="main">
	<div class="container">
		<div class="row bump">
			<div class="col-lg-6 col-lg-offset-3 title">
				<h1>{{title}}</h1>
			</div>
		</div>
		<div class="row">
			<div class="row">
		  		<div class="col-lg-12 row1">
		            <div class="col-lg-offset-1 col-lg-2 tb col1 diag1 col-md-2 col-md-offset-1 col-sm-2"><span class='title'>Laser Focused </span><span class="changeNumber">0</span></div>
		           	<div class="col-lg-2 tb col2 col-md-2 col-sm-2"><span class='title'>Double Down</span> <span class="changeNumber">0</span></div>
		            <div class="col-lg-2 tb col3 col-md-2 col-sm-2"><span class='title'>Magical</span> <span class="changeNumber">0</span></div>
		            <div class="col-lg-2 tb col4 col-md-2 col-sm-2"><span class='title'>iPhone 6</span> <span class="changeNumber">0</span></div>
		             <div class="col-lg-2 tb col-md-2 col5 diag2 col-sm-2"><span class='title'>Resolution</span> <span class="changeNumber">0</span></div>
	            </div>
	    	</div>
	    	<div class="row">
                <div class="col-lg-12 row2">
                    <div class="col-lg-offset-1 col-lg-2 tb col1 col-md-2 col-md-offset-1 col-sm-2"><span class='title'>Revolutionary</span> <span class="changeNumber">0</span></div>
                    <div class="col-lg-2 tb col2 diag1 col-md-2 col-sm-2"><span class='title'>Point of Sale</span> <span class="changeNumber">0</span></div>
                    <div class="col-lg-2 tb col3 col-md-2 col-sm-2"><span class='title'>Battery Life</span> <span class="changeNumber">0</span></div>
		            <div class="col-lg-2 tb col4 diag2 col-md-2 col-sm-2"><span class='title'>iWatch</span> <span class="changeNumber">0</span></div>
		            <div class="col-lg-2 tb col5 col-md-2 col-sm-2"><span class='title'>Sapphire</span> <span class="changeNumber">0</span></div>
                </div>
			</div>
				    	<div class="row">
                <div class="col-lg-12 row3">
                    <div class="col-lg-offset-1 col-lg-2 tb col-md-2 col-md-offset-1 col-sm-2"><span class='title'>One More Thing</span> <span class="changeNumber">0</span></div>
                    <div class="col-lg-2 tb col2 col-md-2 col-sm-2"><span class='title'>Incredible</span> <span class="changeNumber">0</span></div>
                    <div class="col-lg-2 tb col3 diag1 diag2 col-md-2 col-sm-2"><span class='title'>Only Apple Can</span> <span class="changeNumber">0</span></div>
                    <div class="col-lg-2 tb col4 col-md-2 col-sm-2"><span class='title'>Aluminum</span> <span class="changeNumber">0</span></div>
                    <div class="col-lg-2 tb col5 col-md-2 col-sm-2"><span class='title'>Beautiful</span> <span class="changeNumber">0</span></div>
                </div>
			</div>
	    	<div class="row">
                <div class="col-lg-12 row4">
                    <div class="col-lg-offset-1 col-lg-2 tb col-md-2 col-md-offset-1 col-sm-2"><span class='title'>Precision</span> <span class="changeNumber">0</span></div>
                    <div class="col-lg-2 tb col2 diag2 col-md-2 col-sm-2"><span class='title'>Game Changer</span> <span class="changeNumber">0</span></div>
                    <div class="col-lg-2 tb col3 col-md-2 col-sm-2"><span class='title'>Sleek </span><span class="changeNumber">0</span></div>
                    <div class="col-lg-2 tb col4 diag1 col-md-2 col-sm-2"><span class='title'>Makes fun of Android </span><span class="changeNumber">0</span></div>
                    <div class="col-lg-2 tb col5 col-md-2 col-sm-2"><span class='title'>Best [name] ever made </span><span class="changeNumber">0</span></div>
            	</div>
            </div>
                <div class="row">
                <div class="col-lg-12 row5">
                    <div class="col-lg-offset-1 col-lg-2 tb col1 diag2 col-md-2 col-md-offset-1 col-sm-2"><span class='title'>Gorgeous </span><span class="changeNumber">0</span></div>
                    <div class="col-lg-2 tb col2 col-md-2 col-sm-2"><span class='title'>'My ass' </span><span class="changeNumber">0</span></div>
                    <div class="col-lg-2 tb col3 col-md-2 col-sm-2"><span class='title'>Innovate </span><span class="changeNumber">0</span></div>
                    <div class="col-lg-2 tb col4 col-md-2 col-sm-2"><span class='title'>Misleading graphs </span><span class="changeNumber">0</span></div>
                    <div class="col-lg-2 tb col5 diag1 col-md-2 col-sm-2"><span class='title'>Innovate </span><span class="changeNumber">0</span></div>
                </div>
			</div>
		  </div> 
		</div>
		<div class="row">
		<div class="col-lg-4 col-lg-offset-4">
			<h2>Instructions:</h2>
			<p>Click the ones you hear on the Apple live stream! Click more than once if you hear them say the term again! Get five in a row and get bingo!</p>
		</div>
	</div>
	</div>
	<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
        <h4 class="modal-title" id="myModalLabel">You got bingo!</h4>
      </div>
      <div class="modal-body">
      	<div class="result">

      	</div>
      	<div class="social">
      		<a id="link" href="">Share your result!</a><span class="icon-twitter"></span>
      	</div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
</div>

<script type="text/javascript">
	var theResult;

	$( ".tb" ).click(function() {
  		$(this).css( "background-color", "red");
  		$(this).css( "color", "white");
  		$(this).addClass("checked");
  		var value = parseInt($(this).find( ".changeNumber" ).text(),10) + 1;
  		$(this).find( ".changeNumber" ).text(value);
  		checkBingo();
	});
	var bingos = {
		row1: false,
		row2: false,
		row3: false,
		row4: false,
		row5: false,
		col1: false,
		col2: false,
		col3: false,
		col4: false,
		col5: false,
		diag1: false,
		diag2: false
	};

	function getText() {

		var els = $(".checked.tb");
		var text = [];
		for(var i = 0; i < els.length; i++) {

			var el = $(".title", els[i]);
			text.push(el.text());

		}
		theResult = (text.join(", "));

	}

	function checkBingo() {

		if($(".tb").length === $(".tb.checked").length) {
			//full bingo
			alert("Full Bingo");
			$('#myModal').modal({show:true});
		}

		for(var i = 1; i <= 5; i++) {
			if(!bingos["row" + i]) {
				if($(".row" + i + " .tb").length === $(".row" + i + " .tb.checked").length) {
					getText();
					$('.result').html("I got Apple bingo: " + theResult);
					var constructTweet = "https://twitter.com/intent/tweet?text=" + "Apple Bingo! " + theResult + "http://owenwillia.ms/applebingo";
					$('#link').attr('href', constructTweet)
					$('#myModal').modal({show:true});
					$('.result').html("I got Apple bingo: " + theResult);
					bingos["row" + i] = true;
				}
			}
		}

		for(var i = 1; i <= 5; i++) {
			if(!bingos["col" + i]) {
				if($(".col" + i + ".tb").length === $(".col" + i + ".tb.checked").length) {
					getText();
					$('.result').html("I got Apple bingo: " + theResult);
					var constructTweet = "https://twitter.com/intent/tweet?text=" + "Apple Bingo! " + theResult + " " + "http://owenwillia.ms/applebingo";
					$('#link').attr('href', constructTweet)
					$('#myModal').modal({show:true});
					bingos["col" + i] = true;
				}
			}
		}

		for(var i = 1; i <= 2; i++) {
			if(!bingos["diag" + i]) {
				if($(".diag" + i + ".tb").length === $(".diag" + i + ".tb.checked").length) {
					getText();
					$('.result').html("I got Apple bingo: " + theResult);
					var constructTweet = "https://twitter.com/intent/tweet?text=" + "Apple Bingo! " + theResult + "http://owenwillia.ms/applebingo";
					$('#link').attr('href', constructTweet)
					$('#myModal').modal({show:true});
					$('.result').html("I got Apple bingo: " + theResult);
					bingos["diag" + i] = true;
				}
			}
		}

		//if($(".tb.row1").length === $(".tb.row1.checked").length) {
			//full bingo
		//}




	}
</script>
</section>
</body>

